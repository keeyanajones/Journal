<!DOCTYPE html> 
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Code Journal : Experiments : Discord Code Playground</title>   
    <!-- Latest compiled and minified CSS -->
    <!-- Font Awesome 5.7.0 -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" 
    integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" 
    crossorigin="anonymous">
    <!-- Bootstrap 4.3.1 -->    
    <link rel="stylesheet" 
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 
          crossorigin="anonymous">   
    <!-- Highlight.js 9.13.1 -->     
    <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/androidstudio.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>    
    <script>hljs.initHighlightingOnLoad();</script>     
    <!-- Custom Style Pygment and Icons -->
    <link rel="stylesheet" href="../../assets/stylesheets/styles.css">
    <link rel="stylesheet" href="../../assets/stylesheets/pygment_trac.css">
    <link rel="icon" href="../../assets/images/favicon.ico" type="image/gif">
    <link rel="shortcut icon" href="../../assets/images/favicon.png">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="wrapper">
    <!-- Header -->         
      <header>
          <img src="../../assets/images/pb_Image.png" class="img-fluid" alt="me"/>
        <p class="view">A Code Journal for 
            <span class="fab fa-git-square" aria-hidden="true"></span>
                Hub Pages<br/>        
                
            <a href="https://github.com/keeyanajones/Journal" target="_blank">
            <span class="fab fa-github"></span> 
              View the Code Journal on GitHub</a></p>
                      
                        
            <button class="btn btn-md btn-default" type="button">
                <span class="fab fa-java fa-2x"></span> 
            </button>                
            
            <button class="btn btn-md btn-default" type="button">
                <span class="fab fa-python fa-2x"></span> 
            </button>                        

            <button class="btn btn-md btn-default" type="button">
                <span class="fab fa-r-project  fa-2x"></span> 
            </button>                
            
            <button class="btn btn-md btn-default" type="button">
            <span class="fab fa-js fa-2x"></span> 
            </button>                              

            <br/><br/>
            
            <a href="https://github.com/keeyanajones/">
            <small><span class="fab fa-github-alt"></span>                 
            Repositories and latest Contribution Activity</small></a>                 
              
        <br/>
        
        <!-- Download, Clone, or Fork -->
        <ul>    
          <li><a href="https://github.com/keeyanajones/Journal/archive/master.zip">
              <span class="fa fa-file-archive" aria-hidden="true"></span><br/>
                  Download <br/> ZIP</a></li>                  
          <li><a href="https://github.com/keeyanajones/Journal">
              <span class="fa fa-clone" aria-hidden="true"></span><br/>
                  Clone <br/> Desktop</a></li>                  
          <li><a href="https://github.com/keeyanajones/Journal">
              <span class="fa fa-code-branch" aria-hidden="true"></span><br/>
                  Fork On <br/> GitHub</a></li>
        </ul>                                 
      </header>
    <!-- ./header --> 
    </div>
      
    <section>       
      <h2><span class="fas fa-flask " aria-hidden="true"></span>
          <a name="experiments" class="anchor" href="#experiments">
            <span class="header-link"></span></a>
            Discord Code Playground</h2>
     
        <p><sup><span class="fa fa-calendar"></span>
                Last updated on August 7th, 2019</sup></p>
              
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
        <span class="fa fa-bookmark"></span> 
        <a href="../../index.html">Home</a></li>    
    <li class="breadcrumb-item">
        <span class="fa fa-bookmark"></span> 
        <a href="../index.html"> Experiments</a></li>
    <li class="breadcrumb-item active" aria-current="discord">
        <span class="fa fa-bookmark"></span> 
         Discord Code Playground</li>
  </ol>
</nav>                 
                                
                <p><img src="../../assets/images/bothero.png"
                        style="float: left; padding: 5px;" 
                        class="img-fluid" alt=""/></p>
                <p>This Bot conducts conversations via auditory or textual 
                    methods to convincingly simulate how a human would behave 
                    as a conversational partner, thereby passing the practical 
                    purposes including customer service or information 
                    acquisition. The experiment is to make a conversational AI
                    to use the gaming messaging apps and speech based assistants
                    to automate communication and personalize customer experiences.                    
                </p>

                <p>Bots can be classified into usage categories such as 
                    conversational commerce (e-commerce via chat), analytics, 
                    communication, customer support, design, developer tools, 
                    education, entertainment, finance, food, games, health, HR, 
                    marketing, news, personal, productivity, shopping, social, 
                    sports, travel and utilities. 
                    experiment                                      
                </p>
                
See <span class="fa fa-file-code"></span></a>
     <a href="https://github.com/keeyanajones/node/blob/master/src/package.json"
        target="_blank">package.json</a>
    
<pre><code>// package.json
{ ...
  "dependencies": {
    "@mixer/client-node": "^3.3.1",
    "chalk": "2.4.2",
    "common-tags": "1.8.0",
    "cookie-parser": "~1.4.3",
    "debug": "~2.6.9",
    "discord.js": "11.4.2",
    "ejs": "~2.5.7",
    "eslint": "5.15.1",
    "express": "~4.16.0",
    "googleapis": "^27.0.0",
    "http-errors": "~1.6.2",
    "libsodium-wrappers": "0.7.4",
    "moment": "2.24.0",
    "morgan": "~1.9.0",
    "ms": "2.1.1",
    "opusscript": "0.0.6 ",
    "tmi.js": "1.4.2",
    "winston": "3.2.1",
    "ws": "^6.2.0"
  }
...
}
</code></pre>
                
See <span class="fa fa-file-code"></span></a>
     <a href="https://github.com/keeyanajones/node/blob/master/src/app.js"
        target="_blank">app.js</a>
    
<pre><code>// app.js
const createError = require('http-errors');
const express = require('express');
const tmi = require('tmi.js');// tmi.js module
const path = require('path');
const cookieParser = require('cookie-parser');
const logger = require('morgan');
const Discord = require('discord.js');// discord.js module
const Mixer = require('@mixer/client-node');// mixer module
const ws = require('ws');
const http = require('http');
const fs = require('fs');
const readline = require('readline');
const {google} = require('googleapis');
const hostname = '127.0.0.1';
const port = 3000;
...
</code></pre>

        <h4><a name="oauth" class="anchor" href="#oauth">
          <span class="header-link"></a></span>
            OAuth
       </h4>        

        <p>OAuth is an open standard for access delegation, commonly used as 
           a way for Internet users to grant websites or applications access 
           to their information on other websites but without giving them the 
           passwords.</p>

See <span class="fa fa-file-code"></span></a>
     <a href="https://gist.github.com/keeyanajones/174b08a8cb8441963be5025d56502a8a#file-oauth-js"
        target="_blank">oauth.js</a>
        
<pre><code>// oauth.js
...
// This is the client ID and client secret that you obtained
// while registering the application
const clientID = '<your client id>'
const clientSecret = '<your client secret>'

const app = express();

// Declare the redirect route
app.get('/oauth/redirect', (req, res) => {
  // The req.query object has the query params that
  // were sent to this route. We want the `code` param
  const requestToken = req.query.code;

  someThingsomeThing({
    // make a POST request
    method: 'post',
    // to the Github authentication API, with the client ID, 
    // client secret and request token
    url: `https://somewhere.com/login/oauth/access_token
            ?client_id=
                ${clientID}&client_secret=
                ${clientSecret}&code=
                ${requestToken}`,
    // Set the content type header, so that we get the 
    // response in JSOn
    headers: {
         accept: 'application/json'
    }
  }).then((response) => {
    // Once we get the response, extract the access token from
    // the response body
    const accessToken = response.data.access_token
    // redirect the user to the welcome page, along with the 
    // access token
    res.redirect(`/welcome.html?access_token=${accessToken}`);
  })
})
...
</code></pre>
                        
        <h4><a name="discord" class="anchor" href="#discord"></a> 
            <span class="header-link"></span> 
            Discord API</h4>        

        <p><img src="../../assets/images/girlbot.png" class="img-fluid"                 
                style="float: left; padding: 5px;" alt=""/>            
           Discord is a proprietary freeware VoIP application and digital 
           distribution platform designed for video gaming communities, that 
           specializes in text, image, video and audio communication between 
           users in a chat channel with over 200 million unique users of the 
           software.</p>
        
        <p>Players love to show off what they are playing with Discord’s status 
            feature. With Rich Presence you can add beautiful art and detailed 
            information to show off your game even more. This lets players know 
            what their friends are doing, so they can decide to ask to join in 
            and play together.</p>
        
        <strong>Discord</strong><br/>
        
        See <span class="fa fa-file-code"></span>
        <a href="https://github.com/keeyanajones/Java-Problems/blob/master/src/forLoopFunction.java"
           target="_blank"> discord-bot</a>     
        
<pre><code>// Discord 
...
// when the client is ready, run this code
// this event will only trigger one time after logging in
client.on ('ready', () => {
    console.log("Conected as " + client.user.tag + " Ready!");
    
client.on('message', message => {
// send back "Welecome to my Discord Server!" to the channel 
// the message was sent in
    if (message.content === '!chibielf') {
        message.channel.send('Hi! I\'m Chibielf! Welcome to 
                              the Discord Server!');
    }
});    
        
// client.user.setActivity        
client.user.setActivity("Live Youtube", {type: "WATCHING"});

// CHANNEL 
client.guilds.forEach((guild) => {
    console.log(guild.name);
    guild.channels.forEach((channel) => {
        console.log(` - ${channel.name} 
                        ${channel.type} 
                        ${channel.id}`);
    });                  
});          

// For General Channel id 398581574427213826  
// @generalTextChannel and @generalVoiceChannel
    let generalChannel = 
           client.channels.get("398581574427213826");
    const attachment = 
       new Discord.Attachment
           ("../assets/img/avatar.png");    
    generalChannel.send(attachment);
});

// MESSAGE 
client.on('message', (receivedMessage) => {
   if (receivedMessage.author === client.user) {
       return;   
    }

// REPEAT MESSAGE
   receivedMessage.channel.send("Message received : " + 
        receivedMessage.author.toString() + " : " + 
        receivedMessage.content);
    
   receivedMessage.guild.emojis.forEach(customEmoji => {
       console.log(`${customEmoji.name} ${customEmoji.id}`);
       receivedMessage.react(customEmoji); 
   });
});

client.on('message', message => {
    if (!message.content.startsWith(prefix) || 
         message.author.bot) return;

    const args = 
           message.content.slice(prefix.length).split(/ +/);
    const command = args.shift().toLowerCase();

// INFO
    if (command === 'info') {
        if (!args.length) {
            return message.channel.send
                  (`You did not provide any arguments, 
                 ${message.author}!`);
	} else if (args[0] === 'foo') {
            return message.channel.send('bar');
	}
	message.channel.send(`First argument: ${args[0]}`);                
   ...
});

// login to Discord with app token
client.login(token);
</code></pre>

  <!------------------------------------------------// 
       Discord:  Tab Navigation
    // ----------------------------------------------->
<div>
  <!-- Nav tabs -->
  <ul class="nav nav-tabs" role="tablist">
    <li role="presentation" class="active">
        <a href="#discordSuccessLog" 
           aria-controls="discordSuccessLog" 
           role="tab" data-toggle="tab">
            Success Log</a></li>            
    <li role="presentation">
        <a href="#discordThingsToRevisit" 
           aria-controls="discordThingsToRevisit" 
           role="tab" data-toggle="tab">
            Things to Revisit</a></li>           
    <li role="presentation">
        <a href="#discordGoals" 
           aria-controls="discordGoals" 
           role="tab" data-toggle="tab">
            Goals</a></li>           
    <li role="presentation">
        <a href="#discordLessonsLearned" 
           aria-controls="discordLessonsLearned" 
           role="tab" data-toggle="tab">
            Lessons Learned</a></li>
  </ul>
  <!------------------------------------------------// 
       Discord :  Tab panes 
    // ----------------------------------------------->
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="discordSuccessLog">
<pre><code class="console">
Feb 28, 2019 5:40:24 AM "BUILD SUCCESSFUL (total time: 0)" 
</code></pre>

    </div>      
    <div role="tabpanel" class="tab-pane" id="discordThingsToRevisit">
      <p>Discord API offerings for both bots and OAuth2 integrations
          for making !wumpus commands and log In With Discord. </p>    
    </div>     
      
    <div role="tabpanel" class="tab-pane" id="discordGoals">
    <p>Provide the best satisfying solution under a varying amount of resources 
       and priorities</p>    
    </div>      
    <div role="tabpanel" class="tab-pane" id="discordLessonsLearned">
    <p>Voice connections operate in a similar fashion to the Gateway 
       connection. However, they use a different set of payloads and 
       a separate UDP-based connection for voice data transmission.</p>        
    </div>      
  </div>
</div>  
<!------ /. Discord :  Tab panes   ------->
           
<hr/>
      <!-- pagination -->
      <a role="button" class="btn btn-primary float-left" 
         href="../index.html">
            &larr; PREVIOUS: Experiments</a>
      
      <a role="button" class="btn btn-primary float-right" 
         href="../../gaming/index.html">
            NEXT: Gaming &rarr;</a><br/><br/>              
    </section>
        
    <!-- jQuery library -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" 
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" 
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" 
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" 
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" 
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" 
            crossorigin="anonymous"></script>      
    <script src="../assets/javascripts/scale.fix.js"></script>    
  </body>
</html>
